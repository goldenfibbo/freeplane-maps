<map version="freeplane 1.8.0" project="1679BFC17676PTVR852659XS9KNG757E4RY5" project_last_home="file:/home/thoughts/Docear/projects/first-principle/" dcr_id="1544964182228_5hcg3ru375c4n3zf7juec87fw">
<!--To view this file, download free mind mapping software Freeplane from http://freeplane.sourceforge.net -->
<node TEXT="VASP" FOLDED="false" ID="ID_1723255651" CREATED="1283093380553" MODIFIED="1554580506172" LINK="project://1679BFC17676PTVR852659XS9KNG757E4RY5/../Quantum/Density%20Functional%20Theory.mm"><hook NAME="MapStyle" zoom="1.103">
    <properties edgeColorConfiguration="#808080ff,#808080ff,#808080ff,#808080ff,#808080ff" show_note_icons="true" fit_to_viewport="false"/>

<map_styles>
<stylenode LOCALIZED_TEXT="styles.root_node" STYLE="oval" UNIFORM_SHAPE="true" VGAP_QUANTITY="24.0 pt">
<font SIZE="24"/>
<stylenode LOCALIZED_TEXT="styles.predefined" POSITION="right" STYLE="bubble">
<stylenode LOCALIZED_TEXT="default" MAX_WIDTH="600.0 px" COLOR="#000000" STYLE="as_parent">
<font NAME="SansSerif" SIZE="10" BOLD="false" ITALIC="false"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.details"/>
<stylenode LOCALIZED_TEXT="defaultstyle.attributes">
<font SIZE="9"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.note"/>
<stylenode LOCALIZED_TEXT="defaultstyle.floating">
<edge STYLE="hide_edge"/>
<cloud COLOR="#f0f0f0" SHAPE="ROUND_RECT"/>
</stylenode>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.user-defined" POSITION="right" STYLE="bubble">
<stylenode LOCALIZED_TEXT="styles.topic" COLOR="#18898b" STYLE="fork">
<font NAME="Liberation Sans" SIZE="10" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.subtopic" COLOR="#cc3300" STYLE="fork">
<font NAME="Liberation Sans" SIZE="10" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.subsubtopic" COLOR="#669900">
<font NAME="Liberation Sans" SIZE="10" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.important">
<icon BUILTIN="yes"/>
</stylenode>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.AutomaticLayout" POSITION="right" STYLE="bubble">
<stylenode LOCALIZED_TEXT="AutomaticLayout.level.root" COLOR="#000000">
<font SIZE="18"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,1" COLOR="#0033ff">
<font SIZE="16"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,2" COLOR="#00b439">
<font SIZE="14"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,3" COLOR="#990000">
<font SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,4" COLOR="#111111">
<font SIZE="10"/>
</stylenode>
</stylenode>
</stylenode>
</map_styles>
</hook>
<hook NAME="AutomaticEdgeColor" COUNTER="12" RULE="ON_BRANCH_CREATION"/>
<font SIZE="13"/>
<node TEXT="常规流程" POSITION="right" ID="ID_199533631" CREATED="1544962513686" MODIFIED="1544964374440">
<edge COLOR="#0000ff"/>
<node TEXT="最优化构型问题" ID="ID_671979238" CREATED="1544963723273" MODIFIED="1544964726416">
<node TEXT="结构弛豫优化" ID="ID_683723782" CREATED="1544964733972" MODIFIED="1544964744020">
<node TEXT="晶格常数" ID="ID_1180415460" CREATED="1544963761305" MODIFIED="1544963765795" MOVED="1544964783033"/>
<node TEXT="原子分布" ID="ID_1494409243" CREATED="1544963766122" MODIFIED="1544963772265" MOVED="1544964783048"/>
</node>
<node TEXT="在某个温度或者压强下进行性质计算或者单点能计算" ID="ID_1429953950" CREATED="1544964746772" MODIFIED="1544964777537"/>
</node>
<node TEXT="热力学变化过程" ID="ID_683591775" CREATED="1544963727889" MODIFIED="1544964846273">
<node TEXT="MD过程模拟" ID="ID_1579341594" CREATED="1544964733972" MODIFIED="1544964833102"/>
<node TEXT="在某个温度或者压强下进行性质计算或者单点能计算" ID="ID_1524485848" CREATED="1544964746772" MODIFIED="1544964777537"/>
</node>
<node TEXT="热力学结构变化" ID="ID_946863786" CREATED="1544963732349" MODIFIED="1544964854822">
<node TEXT="初始温度下进行NVT计算" ID="ID_31909997" CREATED="1544964857573" MODIFIED="1544964870032"/>
<node TEXT="进行MD退火" ID="ID_983781388" CREATED="1544964870221" MODIFIED="1544964882663"/>
<node TEXT="在结束温度下进行性质计算研究" ID="ID_759280296" CREATED="1544964882819" MODIFIED="1544964896816"/>
</node>
</node>
<node TEXT="理论基础" FOLDED="true" POSITION="left" ID="ID_943711179" CREATED="1544963792781" MODIFIED="1544964374455" MOVED="1544964445624">
<edge COLOR="#ff00ff"/>
<node TEXT="赝势法和平面波基组" ID="ID_714094109" CREATED="1544963801051" MODIFIED="1544963820067"/>
<node TEXT="基于有限温度下的局域密度近似(自由能为变量)" ID="ID_897667848" CREATED="1544963831484" MODIFIED="1544963853367"/>
<node TEXT="对每一MD步骤用有效矩阵对角方案和有效Pulay混合求解瞬时电子基态" ID="ID_997775290" CREATED="1544963871049" MODIFIED="1544963915952"/>
<node TEXT="避免了原始方法Car-Parrlnello方法的一切问题" ID="ID_1211855625" CREATED="1544963923089" MODIFIED="1544963954607">
<node TEXT=" Car-Parrlnello方法是基于电子,离子运动方程同时积分的方法" ID="ID_1395598203" CREATED="1544963958670" MODIFIED="1544964001984"/>
</node>
<node TEXT="容易计算力和张量,用于把原子衰减到其瞬时基态中" ID="ID_171804248" CREATED="1544964025681" MODIFIED="1544964055136"/>
</node>
<node TEXT="特点" FOLDED="true" POSITION="left" ID="ID_1069921415" CREATED="1544964450144" MODIFIED="1544964456379">
<edge COLOR="#ffff00"/>
<node TEXT="使用PAW方法或者超软赝势,因此基组尺寸很小" ID="ID_1310949006" CREATED="1544964064309" MODIFIED="1544964458468" MOVED="1544964458473"/>
<node TEXT="使用传统自洽场循环计算基态,该方案与数值方法组合可实现有效,稳定,快速的Kohn-Sham方程自洽求解方案。程序使用的迭代矩阵对角化方案（RMM-DISS和分块Davidson）可能是目前最快的方案。" ID="ID_924796089" CREATED="1544964486951" MODIFIED="1544964554994"/>
<node TEXT="VASP包含全功能的对称性代码，可以自动确定任意构型的对称性。" ID="ID_1414332077" CREATED="1544964564658" MODIFIED="1544964566895"/>
<node TEXT="对称性代码还用于设定Monkhorst-Pack特殊点，可以有效计算体材料和对称的团簇。Brillouin区的积分使用模糊方法或四面体方法。四面体方法可以用Blöchl校正去掉线性四面体方法的二次误差，实现更快的k点收敛速度。" ID="ID_14327634" CREATED="1544964568687" MODIFIED="1544964576992"/>
</node>
<node TEXT="用途" FOLDED="true" POSITION="left" ID="ID_505068863" CREATED="1544964626609" MODIFIED="1544964630688">
<edge COLOR="#7c0000"/>
<node TEXT="单点能计算" ID="ID_38239148" CREATED="1544964631535" MODIFIED="1544964647404"/>
<node TEXT="结构优化" ID="ID_1982233604" CREATED="1544964648450" MODIFIED="1544964651382"/>
<node TEXT="第一性原理MD和电子结构相关性质计算" ID="ID_240569249" CREATED="1544964651613" MODIFIED="1544964698400"/>
</node>
<node TEXT="具体计算" POSITION="right" ID="ID_882741468" CREATED="1544964917111" MODIFIED="1544964922781">
<edge COLOR="#00007c"/>
<node TEXT="单点能计算" ID="ID_1164718823" CREATED="1544964923653" MODIFIED="1544964932675">
<node TEXT="对一个给定的固定不变的结构（包括原子、分子、表面或体材料）能够计算其总能，即静态计算" ID="ID_1814694456" CREATED="1544964933843" MODIFIED="1544964946901"/>
<node TEXT="所需参数" ID="ID_511985589" CREATED="1544965017007" MODIFIED="1544965021046">
<node TEXT="KPOINTS" ID="ID_1245665859" CREATED="1544965025608" MODIFIED="1544965028314">
<node TEXT="设置一下合适的K点" ID="ID_1770510142" CREATED="1544965051328" MODIFIED="1544965052978"/>
</node>
<node TEXT="ENCUT" ID="ID_721919133" CREATED="1544965034881" MODIFIED="1544965037316"/>
<node TEXT="EDIFF" ID="ID_860525078" CREATED="1544965038650" MODIFIED="1544965040586">
<node TEXT="默认值为 EDIFF=1E-4" ID="ID_1419859590" CREATED="1544965078099" MODIFIED="1616901264330"/>
</node>
<node TEXT="IBRION" ID="ID_1065579280" CREATED="1544965101018" MODIFIED="1544965106280">
<node TEXT="IBRION=-1 也就是让离子不移动" ID="ID_1695738156" CREATED="1544965096037" MODIFIED="1544965099592" MOVED="1544965109094"/>
</node>
</node>
</node>
<node TEXT="结构优化&#xa;在0K下用原子间静力进行优化&#xa;非动力学退火" ID="ID_449971558" CREATED="1544965491524" MODIFIED="1616901349695">
<node TEXT="驰豫收敛标准" ID="ID_1665772196" CREATED="1544965527090" MODIFIED="1544965540209">
<node TEXT="能量" ID="ID_832658780" CREATED="1544965540932" MODIFIED="1544965545051"/>
<node TEXT="离子间作用力" ID="ID_220001905" CREATED="1544965545366" MODIFIED="1544965557515"/>
</node>
<node TEXT="过程" ID="ID_1319858364" CREATED="1544965563897" MODIFIED="1616903050465">
<node TEXT="如果初始结构不太合理,首先进行粗糙优化" ID="ID_1339950650" CREATED="1616901425928" MODIFIED="1616901465312">
<node TEXT="EDIFF=1E-3,EDIFFG=-0.2,KMESH-&gt;LOW,&#xa;NOSPIN,NSW&lt;60" ID="ID_1627812309" CREATED="1616901465796" MODIFIED="1616901530139"/>
</node>
<node TEXT="结构优化" ID="ID_844517811" CREATED="1616901532394" MODIFIED="1616901539936">
<node TEXT="EDIFF=1e-5,EDIFFG=-0.01,&#xa;IBRION=2,NSW=100" ID="ID_564621977" CREATED="1616901901320" MODIFIED="1616901960839"/>
<node TEXT="完成后可以令IBRION=1,&#xa;缩小POTIM(如0.2)继续优化" ID="ID_1959524200" CREATED="1616901963871" MODIFIED="1616902347242">
<node TEXT="POTIM参数无物理意义,是作用力的scaling factor,默认0.5" ID="ID_1784334686" CREATED="1616902263844" MODIFIED="1616902304366"/>
<node TEXT="IBRION=2对POTIM不敏感,其余算法都对POTIM敏感" ID="ID_609408406" CREATED="1616902305024" MODIFIED="1616902336569"/>
</node>
</node>
<node TEXT="弛豫方法" ID="ID_1368364068" CREATED="1616903053207" MODIFIED="1616903076717">
<node TEXT="直接采用ISIF=2,3,4生成的CONTCAR" ID="ID_960771568" CREATED="1616903078967" MODIFIED="1616903097272"/>
<node TEXT="对不同的体积进行ISIF=2,4的优化后取&#xa;总能,对体积进行BM方程拟合找到最低点" ID="ID_1540697168" CREATED="1616903097457" MODIFIED="1616903136822">
<node TEXT="注意计算参数不能变化,尤其是ENCUT" ID="ID_1046926848" CREATED="1616903143942" MODIFIED="1616903165265"/>
</node>
</node>
<node TEXT="Pulay Stress" ID="ID_806273590" CREATED="1616903176723" MODIFIED="1616903185523">
<node TEXT="弛豫过程的晶格变化引起basis set变化,&#xa;导致能量变化不连续" ID="ID_1882913467" CREATED="1616903186286" MODIFIED="1616903226453"/>
<node TEXT="解决方法" ID="ID_152525643" CREATED="1616903228984" MODIFIED="1616903231990">
<node TEXT="采用较大的ENCUT(1.3*ENMAX),&#xa;即平面波组足够大" ID="ID_1068794706" CREATED="1616903232747" MODIFIED="1616903264886"/>
<node TEXT="对优化后结构在相同CUTOFF下计算单点能(ISTART=1,需要WAVECAR),可以得到PULAY STRESS" ID="ID_247796930" CREATED="1616903265909" MODIFIED="1616903339502"/>
</node>
</node>
</node>
<node TEXT="参数" ID="ID_1807932190" CREATED="1544965640909" MODIFIED="1544965643246">
<node TEXT="IBRION" ID="ID_1039356294" CREATED="1544965644138" MODIFIED="1544965647191">
<node TEXT="IBRION=1 准牛顿法" ID="ID_1439825497" CREATED="1544965568642" MODIFIED="1616901365201">
<node TEXT="计算速度较快,适合初始结构与平衡结构较接近" ID="ID_1057068903" CREATED="1544965583137" MODIFIED="1544965606472"/>
</node>
<node TEXT="IBRION=2 共轭梯度法" ID="ID_1732014337" CREATED="1544965575659" MODIFIED="1616901371257">
<node TEXT="较慢,但更可能找到全局最小" ID="ID_1339553499" CREATED="1544965609931" MODIFIED="1544965626539"/>
</node>
</node>
<node TEXT="NSW" ID="ID_624954785" CREATED="1544965677291" MODIFIED="1544965681058">
<node TEXT="最大步数,如果过大不收敛说明体系错误" ID="ID_262460850" CREATED="1544965683223" MODIFIED="1544965723770"/>
</node>
<node TEXT="冻结部分原子: 在POSCAR文件中设置selective dynamic" ID="ID_1447955274" CREATED="1544965740935" MODIFIED="1544965775889"/>
<node TEXT="ISIF" ID="ID_1742383861" CREATED="1544965784449" MODIFIED="1544965787328">
<node TEXT="控制驰豫时的晶胞变化情况" ID="ID_13329915" CREATED="1544965787823" MODIFIED="1544965807118"/>
</node>
<node TEXT="ISMEAR" ID="ID_389799484" CREATED="1544965828151" MODIFIED="1544965832625">
<node TEXT="费米面附近能级电子分布的smearing,促进收敛,但可能产生物理意义不明的分数占据态 ,通常K点只有1-2个时取0;金属体材料取1或2;半导体材料取-5" ID="ID_1919650403" CREATED="1544965833473" MODIFIED="1544965935016"/>
<node TEXT="在结构优化时,弛豫过程中使用0或者1,不能用-5" ID="ID_272021326" CREATED="1616901134235" MODIFIED="1616901159456"/>
</node>
</node>
</node>
</node>
<node TEXT="收敛参数" FOLDED="true" POSITION="left" ID="ID_1415655341" CREATED="1545498735364" MODIFIED="1616901179571">
<edge COLOR="#007c00"/>
<node TEXT="KPOINTS NUM." ID="ID_1011563917" CREATED="1545498746399" MODIFIED="1545498753284"/>
<node TEXT="ENCUT" ID="ID_511806925" CREATED="1545498754037" MODIFIED="1545498759169"/>
<node TEXT="CRYS. CONS." ID="ID_870216501" CREATED="1545498765273" MODIFIED="1545498771601"/>
</node>
<node TEXT="各种能量(VASP中的所有能量值都是相对&#xa;EATOM而言的,不是严格意义上的基态能量)" FOLDED="true" POSITION="left" ID="ID_1551919032" CREATED="1562846893976" MODIFIED="1562847073545">
<edge COLOR="#808080"/>
<node TEXT="TOTEN(TOTal ENergy)" ID="ID_888941310" CREATED="1562846902354" MODIFIED="1562846941105"/>
</node>
<node TEXT="赝势" FOLDED="true" POSITION="left" ID="ID_1848997229" CREATED="1562848975077" MODIFIED="1562848986079">
<edge COLOR="#808080"/>
<node TEXT="总体分类" FOLDED="true" ID="ID_260819959" CREATED="1562849154409" MODIFIED="1562849162420">
<node TEXT="PAW / USPP" ID="ID_1842542699" CREATED="1562849012684" MODIFIED="1562849044224"/>
<node TEXT="LDA / GGA(PW91 / PBE)" ID="ID_645062200" CREATED="1562849045343" MODIFIED="1562849062387"/>
</node>
<node TEXT="选取时在总体分类之下根据考虑到的&#xa;价电子数目不同还有细分" ID="ID_1685575723" CREATED="1562849166854" MODIFIED="1562849225022"/>
</node>
<node TEXT="材料基态性质计算方法" FOLDED="true" POSITION="left" ID="ID_1999510648" CREATED="1562839112013" MODIFIED="1562843174917">
<edge COLOR="#808080"/>
<node TEXT="INCAR主要参数确定(注意当采用PW91时,需设置VOSKOWN=1), POSCAR, POTCAR, KPOINTS确定" ID="ID_999182392" CREATED="1562839394879" MODIFIED="1562840078201"/>
<node TEXT="INCAR使用脚本确定ENCUT" ID="ID_857530880" CREATED="1562839130611" MODIFIED="1562840073013">
<node TEXT="因为ENCUT取值收到PREC影响较大,因此最好采用手动,且以ENMAX作为起始最小值" ID="ID_128432114" CREATED="1562839283010" MODIFIED="1562839333992"/>
</node>
<node TEXT="INCAR使用脚本确定SIGMA,且当k点数目变化时,需要重新进行此步" ID="ID_1728383281" CREATED="1562840045405" MODIFIED="1562840116792"/>
<node TEXT="同理脚本确定k点数目" ID="ID_1868606844" CREATED="1562842757548" MODIFIED="1562842766809"/>
<node TEXT="单原子计算" ID="ID_866013794" CREATED="1562843176778" MODIFIED="1562843313036">
<node TEXT="检验赝势好坏" ID="ID_712697960" CREATED="1562843314355" MODIFIED="1562843321129">
<node TEXT="现已广泛使用的赝势无需检验" ID="ID_1729694550" CREATED="1562843474583" MODIFIED="1562843506503"/>
<node TEXT="自由原子的能量(不含熵)应该在1~10meV之间" ID="ID_743632151" CREATED="1562844018488" MODIFIED="1562844065680"/>
</node>
<node TEXT="对称性被破坏后自旋极化情况下的原子基态能量,对结合能进行修正" ID="ID_1875210368" CREATED="1562843321490" MODIFIED="1562843464850"/>
</node>
<node TEXT="结构参数(晶格常数和原子位置参数)的优化" ID="ID_1296192398" CREATED="1562843619929" MODIFIED="1562843653253">
<node TEXT="简单情况: 只需要优化晶格常数" ID="ID_1592682072" CREATED="1562844271475" MODIFIED="1562844333281">
<node TEXT="晶格常数一般以实验值为基础,前后十个点左右,&#xa;但只能优化至取样精确度" ID="ID_723495045" CREATED="1562843784964" MODIFIED="1563351824041"/>
</node>
<node TEXT="复杂情况: 两个以上参数&#xa;(比如含有原子位置参数优化)" ID="ID_1617661704" CREATED="1562844276611" MODIFIED="1562847364989">
<node TEXT="精确计算方法" ID="ID_92801566" CREATED="1562846476868" MODIFIED="1562846484078">
<node TEXT="准备两个INCAR,分别对应驰豫计算和&#xa;静态计算,此时晶格常数选取实验值" ID="ID_823683974" CREATED="1562844544263" MODIFIED="1562847349423"/>
<node TEXT="进行循环计算" ID="ID_775529471" CREATED="1562844594259" MODIFIED="1562844618158">
<node TEXT="先进行体积保持不变的离子驰豫的计算&#xa;(ISIF根据需要优化的参数选择2/4/5)" ID="ID_901803514" CREATED="1562844618744" MODIFIED="1562847342605"/>
<node TEXT="把上一步的CONTCAR拷贝为&#xa;POSCAR,进行静态计算" ID="ID_865760045" CREATED="1562844677767" MODIFIED="1562847355786"/>
</node>
<node TEXT="变化晶格常数,重复上述计算,得到静态计算下的V-E关系" ID="ID_1418605224" CREATED="1562844722043" MODIFIED="1562844972035"/>
<node TEXT="采用状态方程拟合E(V)函数得到平衡状态下的体积,体弹性模量,晶格常数等等&#xa;(状态方程即Birch-Murnaghan状态方程)" ID="ID_1668767119" CREATED="1562844856076" MODIFIED="1562917615687"/>
<node TEXT="该体积下继续重复循环计算,得到其他晶胞参数" ID="ID_655083674" CREATED="1562844884996" MODIFIED="1562844934576"/>
</node>
<node TEXT="估算方法 : 直接令ISIF=3 即可进行一次性的计算(结果合理,但精确度不高)" ID="ID_508235410" CREATED="1562846484895" MODIFIED="1562846534240"/>
</node>
</node>
<node TEXT="结合能: 计算得到的总能已经减去了构造赝势时的总能(EATOM),还需要&#xa;减去前面单原子计算中的修正能量即可得到精确结合能" ID="ID_353697422" CREATED="1562846594939" MODIFIED="1562847323060"/>
<node TEXT="自洽的电荷密度: 得到晶胞参数后,进行&#xa;静态的计算就可以得到自洽的电荷密度" ID="ID_1031496070" CREATED="1562847382258" MODIFIED="1562847445516">
<node TEXT="准备四个输入文件" ID="ID_810621747" CREATED="1562847454180" MODIFIED="1562847518712"/>
<node TEXT="进行计算即可, 结果中的CHG和CHGCAR内容相同,&#xa;只是后者更精确一些" ID="ID_1664968469" CREATED="1562847625187" MODIFIED="1562847675546"/>
</node>
<node TEXT="能带结构" ID="ID_1714009958" CREATED="1562847700316" MODIFIED="1562847704862">
<node TEXT="根据特殊k点的走向选取特殊k点以及特殊k点间的分割点数,&#xa;准备好产生k点的输入文件syml" ID="ID_1104588371" CREATED="1562847715001" MODIFIED="1562847990596"/>
<node TEXT="产生k点,生成KPOINTS文件" ID="ID_383221825" CREATED="1562847996020" MODIFIED="1562848007938"/>
<node TEXT="利用之前得到的自洽电荷密度进行非自洽计算,得到EIGENVAL" ID="ID_517005974" CREATED="1562848016412" MODIFIED="1562848098604"/>
<node TEXT="对EIGENVAL以及相关文件处理画图" ID="ID_1313148381" CREATED="1562848100152" MODIFIED="1562848193383"/>
</node>
<node TEXT="电子态密度(包括总态密度和分波态密度)" ID="ID_1230450424" CREATED="1562848207460" MODIFIED="1562848247894">
<node TEXT="增大k点网格数" ID="ID_1841163919" CREATED="1562848253496" MODIFIED="1562848269866"/>
<node TEXT="从POTCAR中找到各类原子的RWIGS 并添加进INCAR" ID="ID_215670662" CREATED="1562848279598" MODIFIED="1562848319263"/>
<node TEXT="利用自洽电荷密度进行非自洽计算,得到DOSCAR" ID="ID_527825258" CREATED="1562848324700" MODIFIED="1562848363559"/>
<node TEXT="对DOSCAR进行分割可以得到总态度和分波态密度" ID="ID_703043764" CREATED="1562848443059" MODIFIED="1562848464002"/>
</node>
</node>
</node>
</map>
